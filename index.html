<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bitcoin Live Price & Profit Calculator</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:'Inter',sans-serif;
  background:linear-gradient(135deg,#0f172a,#1e293b);
  color:#fff;
}

.container{
  max-width:900px;
  margin:50px auto;
  padding:25px;
}

h1{
  text-align:center;
  font-size:32px;
  font-weight:700;
  background:linear-gradient(90deg,#facc15,#f97316);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}

h2{
  text-align:center;
  margin:50px 0 25px;
}

.card{
  background:rgba(255,255,255,0.05);
  backdrop-filter:blur(14px);
  border-radius:18px;
  padding:30px;
  margin-top:25px;
  box-shadow:0 15px 40px rgba(0,0,0,0.5);
}

.price-box{
  text-align:right;
  font-size:22px;
  font-weight:700;
  margin-bottom:10px;
}

.small{
  text-align:right;
  font-size:12px;
  opacity:0.6;
}

label{
  font-size:13px;
  margin-top:18px;
  display:block;
  opacity:0.8;
}

input,select{
  width:100%;
  padding:14px;
  margin-top:8px;
  border-radius:12px;
  border:none;
  font-size:16px;
  text-align:right;
  font-weight:600;
}

input:focus,select:focus{
  box-shadow:0 0 0 2px #facc15;
  outline:none;
}

.calc-btn{
  width:100%;
  margin-top:25px;
  padding:15px;
  border-radius:14px;
  border:none;
  background:linear-gradient(90deg,#facc15,#f97316);
  color:#000;
  font-weight:700;
  font-size:15px;
  cursor:pointer;
  transition:0.3s;
}

.calc-btn:hover{
  transform:scale(1.02);
}

.result{
  margin-top:25px;
  font-size:16px;
  line-height:1.9;
  font-weight:700;
  text-align:right;
}

.profit{color:#22c55e;}
.loss{color:#ef4444;}

.chart-section{
  margin-top:60px;
}

.tradingview-widget-container{
  border-radius:18px;
  overflow:hidden;
  box-shadow:0 20px 60px rgba(0,0,0,0.6);
}

/* FOOTER */
.footer-info{
  margin-top:80px;
  padding:40px 20px;
  text-align:center;
  font-size:14px;
  line-height:1.8;
  opacity:0.85;
}

.footer-info a{
  color:#facc15;
  font-weight:600;
  text-decoration:none;
}

.footer-info a:hover{
  text-decoration:underline;
}
</style>
</head>

<body>
<div class="container">

<h1>Bitcoin Live Price & Profit Calculator</h1>

<div class="card">
  <div class="price-box">BTC (USD): <span id="btcUsd">Loading...</span></div>
  <div class="price-box">BTC (IDR): <span id="btcIdr">Loading...</span></div>
  <div class="small">Auto update every 60 seconds</div>
</div>

<h2>Calculate Your Profit</h2>

<div class="card">

<label>Select Currency</label>
<select id="currency" onchange="switchCurrency()">
  <option value="usd">USD ($)</option>
  <option value="idr">IDR (Rp)</option>
</select>

<label>Investment Amount</label>
<input type="text" id="modal" oninput="formatInput(this)">

<label>Buy Price</label>
<input type="text" id="buyPrice" oninput="formatInput(this)">

<label>Current / Sell Price</label>
<input type="text" id="currentPrice" oninput="formatInput(this)">

<button onclick="calculate()" class="calc-btn">Calculate Profit</button>

<div class="result" id="output"></div>

</div>

<div class="chart-section">
  <h2>Bitcoin Live Chart</h2>
  <div class="tradingview-widget-container">
    <div id="tradingview_btc"></div>
  </div>
</div>

<!-- FOOTER SECTION -->
<div class="footer-info">
  <p>
    This Bitcoin price tracker provides real-time BTC prices in USD and IDR, 
    along with an advanced profit calculator to estimate potential gains or losses 
    based on your investment strategy.
  </p>

  <p>
    For deeper cryptocurrency education, Bitcoin cycle analysis, and long-term market insights, visit:
    <br>
    ðŸ”— <a href="https://www.cryptokita.com" target="_blank">https://www.cryptokita.com</a>
  </p>

  <p>
    Data powered by CoinGecko API & TradingView charts.
  </p>
</div>

</div>

<script>
let liveUSD=0;
let liveIDR=0;

function formatInput(input){
  let currency=document.getElementById("currency").value;
  let value=input.value.replace(/\D/g,'');
  if(!value){input.value="";return;}
  input.value=currency==="usd"
    ? Number(value).toLocaleString("en-US")
    : Number(value).toLocaleString("id-ID");
}

function getNumber(id){
  return Number(document.getElementById(id).value.replace(/[^0-9]/g,''))||0;
}

function switchCurrency(){
  let currency=document.getElementById("currency").value;
  document.getElementById("buyPrice").value=
    currency==="usd"
    ? liveUSD.toLocaleString("en-US")
    : liveIDR.toLocaleString("id-ID");
  document.getElementById("currentPrice").value=
    currency==="usd"
    ? liveUSD.toLocaleString("en-US")
    : liveIDR.toLocaleString("id-ID");
}

function calculate(){
  const currency=document.getElementById("currency").value;
  const modal=getNumber("modal");
  const buy=getNumber("buyPrice");
  const current=getNumber("currentPrice");
  if(!modal||!buy||!current)return;

  const btcAmount=modal/buy;
  const currentValue=btcAmount*current;
  const profit=currentValue-modal;
  const percent=((profit/modal)*100).toFixed(2);

  const symbol=currency==="usd"?"$":"Rp ";
  const locale=currency==="usd"?"en-US":"id-ID";
  const cls=profit>=0?"profit":"loss";

  document.getElementById("output").innerHTML=
  "BTC Owned: "+btcAmount.toFixed(6)+" BTC<br>"+
  "Current Value: "+symbol+currentValue.toLocaleString(locale)+"<br>"+
  "<span class='"+cls+"'>Profit / Loss: "+symbol+profit.toLocaleString(locale)+"</span><br>"+
  "Return: "+percent+"%";
}

async function fetchBTC(){
  const r=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd,idr");
  const d=await r.json();
  liveUSD=d.bitcoin.usd;
  liveIDR=d.bitcoin.idr;
  document.getElementById("btcUsd").innerText="$"+liveUSD.toLocaleString("en-US");
  document.getElementById("btcIdr").innerText="Rp "+liveIDR.toLocaleString("id-ID");
  switchCurrency();
}

fetchBTC();
setInterval(fetchBTC,60000);
</script>

<script src="https://s3.tradingview.com/tv.js"></script>
<script>
new TradingView.widget({
  container_id:"tradingview_btc",
  width:"100%",
  height:600,
  symbol:"BINANCE:BTCUSDT",
  interval:"240",
  theme:"dark",
  style:"1",
  locale:"en",
  toolbar_bg:"#0f172a",
  enable_publishing:false,
  hide_legend:false,
  studies:["Volume@tv-basicstudies"]
});
</script>

</body>
</html>
